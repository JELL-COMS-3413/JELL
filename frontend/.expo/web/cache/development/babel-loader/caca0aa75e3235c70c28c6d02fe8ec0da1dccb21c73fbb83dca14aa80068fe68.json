{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport styles from \"./styles/styles\";\nimport loadFonts from \"./styles/fonts\";\nimport { ipAddress } from \"./styles/styles\";\nimport { profileImages } from \"./ProfileScreen\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function WelcomeScreen(_ref) {\n  var navigation = _ref.navigation,\n    setIsLoggedIn = _ref.setIsLoggedIn;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(\"default\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    profile = _useState4[0],\n    setProfile = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    fontsLoaded = _useState6[0],\n    setFontsLoaded = _useState6[1];\n  var handleLogout = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      yield AsyncStorage.removeItem(\"token\");\n      setIsLoggedIn(false);\n      navigation.reset({\n        index: 0,\n        routes: [{\n          name: \"Login\"\n        }]\n      });\n    });\n    return function handleLogout() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var navigateToProfileScreen = function navigateToProfileScreen() {\n    navigation.navigate(\"ProfileScreen\");\n  };\n  var navigateToBudgetOverview = function navigateToBudgetOverview() {\n    navigation.navigate(\"BudgetOverviewScreen\");\n  };\n  useEffect(function () {\n    var getUsername = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        try {\n          var user = yield AsyncStorage.getItem(\"username\");\n          setUsername(user);\n        } catch (error) {\n          console.error(\"Error getting username:\", error);\n          alert(error.message);\n        } finally {\n          console.log(username);\n        }\n      });\n      return function getUsername() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    var fetchProfile = function () {\n      var _ref4 = _asyncToGenerator(function* () {\n        try {\n          var token = yield AsyncStorage.getItem(\"token\");\n          var response = yield fetch(`http://${ipAddress}:5000/profile`, {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${token}`\n            }\n          });\n          if (!response.ok) {\n            var errorResponse = yield response.json();\n            if (response.status === 404) {\n              yield createDefaultProfile();\n            } else {\n              console.error(\"Server Error:\", errorResponse);\n              throw new Error(errorResponse.message || \"Failed to fetch profile\");\n            }\n          } else {\n            var loadedProfile = yield response.json();\n            console.log(\"loadedProfile: \", loadedProfile);\n            setProfile(loadedProfile.profile);\n            console.log(\"profile: \", profile);\n          }\n        } catch (error) {\n          console.error(\"Error fetching profile:\", error);\n          alert(error.message);\n        }\n      });\n      return function fetchProfile() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    getUsername();\n    fetchProfile();\n  }, []);\n  useEffect(function () {\n    loadFonts().then(function () {\n      return setFontsLoaded(true);\n    });\n  }, []);\n  return _jsxs(SafeAreaView, {\n    style: styles.welcomeBackground,\n    children: [_jsx(Image, {\n      source: profileImages[profile],\n      style: styles.profileIcon\n    }), _jsxs(Text, {\n      style: styles.headerText,\n      children: [\"Welcome to JELL, \", username, \"!\"]\n    }), _jsxs(View, {\n      style: styles.pageContentContainer,\n      children: [_jsx(View, {\n        style: welcomeStyles.instruction,\n        children: _jsx(Text, {\n          style: styles.welcomefont,\n          children: \"Take a look around and set yourself up for a better financial future. Here are some links to help you get started:\"\n        })\n      }), _jsx(TouchableOpacity, {\n        title: \"Your Profile\",\n        onPress: navigateToProfileScreen,\n        style: styles.welcomeButton,\n        children: _jsx(Text, {\n          style: styles.text,\n          children: \" Set Up Your Profile\"\n        })\n      }), _jsx(TouchableOpacity, {\n        title: \"Budget\",\n        onPress: navigateToBudgetOverview,\n        style: styles.welcomeButton,\n        children: _jsx(Text, {\n          style: styles.text,\n          children: \"Make Your Budget\"\n        })\n      }), _jsx(TouchableOpacity, {\n        title: \"Logout\",\n        onPress: handleLogout,\n        style: styles.welcomeButton,\n        children: _jsx(Text, {\n          style: styles.text,\n          children: \"Logout\"\n        })\n      })]\n    })]\n  });\n}\nvar welcomeStyles = StyleSheet.create({\n  instruction: {\n    marginBottom: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","SafeAreaView","Text","TouchableOpacity","View","Image","StyleSheet","AsyncStorage","styles","loadFonts","ipAddress","profileImages","jsx","_jsx","jsxs","_jsxs","WelcomeScreen","_ref","navigation","setIsLoggedIn","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","profile","setProfile","_useState5","_useState6","fontsLoaded","setFontsLoaded","handleLogout","_ref2","_asyncToGenerator","removeItem","reset","index","routes","name","apply","arguments","navigateToProfileScreen","navigate","navigateToBudgetOverview","getUsername","_ref3","user","getItem","error","console","alert","message","log","fetchProfile","_ref4","token","response","fetch","headers","Authorization","ok","errorResponse","json","status","createDefaultProfile","Error","loadedProfile","then","style","welcomeBackground","children","source","profileIcon","headerText","pageContentContainer","welcomeStyles","instruction","welcomefont","title","onPress","welcomeButton","text","create","marginBottom"],"sources":["C:/Users/laura/appDev/JELL/frontend/Components/WelcomeScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  SafeAreaView,\r\n  Text,\r\n  TouchableOpacity,\r\n  View,\r\n  Image,\r\n  StyleSheet,\r\n} from \"react-native\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport styles from \"./styles/styles\";\r\n\r\nimport loadFonts from \"./styles/fonts\";\r\nimport { ipAddress } from \"./styles/styles\";\r\n\r\nimport { profileImages } from \"./ProfileScreen\";\r\n\r\n\r\nexport default function WelcomeScreen({ navigation, setIsLoggedIn }) {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [profile, setProfile] = useState(\"default\");\r\n  const [fontsLoaded, setFontsLoaded] = useState(true);\r\n  const handleLogout = async () => {\r\n    await AsyncStorage.removeItem(\"token\");\r\n    setIsLoggedIn(false);\r\n    navigation.reset({\r\n      index: 0,\r\n      routes: [{ name: \"Login\" }],\r\n    });\r\n  };\r\n\r\n  const navigateToProfileScreen = () => {\r\n    navigation.navigate(\"ProfileScreen\");\r\n  };\r\n\r\n  const navigateToBudgetOverview = () => {\r\n    navigation.navigate(\"BudgetOverviewScreen\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getUsername = async () => {\r\n      try {\r\n        const user = await AsyncStorage.getItem(\"username\");\r\n        setUsername(user);\r\n      } catch (error) {\r\n        console.error(\"Error getting username:\", error);\r\n        alert(error.message);\r\n      } finally {\r\n        console.log(username);\r\n      }\r\n    };\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const token = await AsyncStorage.getItem(\"token\");\r\n\r\n        const response = await fetch(`http://${ipAddress}:5000/profile`, {\r\n\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const errorResponse = await response.json();\r\n          if (response.status === 404) {\r\n            await createDefaultProfile();\r\n          } else {\r\n            console.error(\"Server Error:\", errorResponse);\r\n            throw new Error(errorResponse.message || \"Failed to fetch profile\");\r\n          }\r\n        } else {\r\n          const loadedProfile = await response.json();\r\n          console.log(\"loadedProfile: \", loadedProfile);\r\n          setProfile(loadedProfile.profile);\r\n          console.log(\"profile: \", profile);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error);\r\n        alert(error.message);\r\n      }\r\n    };\r\n    getUsername();\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadFonts().then(() => setFontsLoaded(true));\r\n  }, []);\r\n  //if (!fontsLoaded) return null; \r\n  //Removed for now, but might need later.\r\n\r\n\r\n  return (\r\n    <SafeAreaView style={styles.welcomeBackground}>\r\n      <Image source={profileImages[profile]} style={styles.profileIcon} />\r\n\r\n      <Text style={styles.headerText}>Welcome to JELL, {username}!</Text>\r\n      <View style={styles.pageContentContainer}>\r\n        <View style={welcomeStyles.instruction}>\r\n          <Text style={styles.welcomefont}>\r\n            Take a look around and set yourself up for a better financial\r\n            future. Here are some links to help you get started:\r\n          </Text>\r\n        </View>\r\n        <TouchableOpacity\r\n          title=\"Your Profile\"\r\n          onPress={navigateToProfileScreen}\r\n          style={styles.welcomeButton}\r\n        >\r\n          <Text style={styles.text}> Set Up Your Profile</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          title=\"Budget\"\r\n          onPress={navigateToBudgetOverview}\r\n          style={styles.welcomeButton}\r\n        >\r\n          <Text style={styles.text}>Make Your Budget</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          title=\"Logout\"\r\n          onPress={handleLogout}\r\n          style={styles.welcomeButton}\r\n        >\r\n          <Text style={styles.text}>Logout</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst welcomeStyles = StyleSheet.create({\r\n  instruction: {\r\n    marginBottom: 10,\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}