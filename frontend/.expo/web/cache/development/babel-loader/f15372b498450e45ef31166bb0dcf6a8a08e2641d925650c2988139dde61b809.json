{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport styles from \"./styles/styles\";\nimport { ipAddress } from \"./ip\";\nimport TabNavigation from \"./TabNavigation\";\nimport { profileImages } from \"./ProfileScreen\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar loanCalc = [{\n  id: \"1\",\n  title: \"Amortized Loan\"\n}, {\n  id: \"2\",\n  title: \"Deferred Payment Loan\"\n}, {\n  id: \"3\",\n  title: \"Bond\"\n}, {\n  id: \"4\",\n  title: \"Mortgage\"\n}, {\n  id: \"5\",\n  title: \"Auto Loan\"\n}, {\n  id: \"6\",\n  title: \"Student Loan\"\n}, {\n  id: \"7\",\n  title: \"Mortgage Payoff\"\n}];\nvar saveCalc = [{\n  id: \"1\",\n  title: \"Savings\"\n}, {\n  id: \"2\",\n  title: \"Simple Interest\"\n}, {\n  id: \"3\",\n  title: \"Compound Interest\"\n}, {\n  id: \"4\",\n  title: \"Certificate of Deposit\"\n}, {\n  id: \"5\",\n  title: \"IRAs\"\n}, {\n  id: \"6\",\n  title: \"401K\"\n}, {\n  id: \"7\",\n  title: \"Social Security\"\n}];\nexport default function CalculationScreen(_ref) {\n  var navigation = _ref.navigation,\n    setIsLoggedIn = _ref.setIsLoggedIn;\n  var _useState = useState(\"default\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    profile = _useState2[0],\n    setProfile = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoanCalculator = _useState4[0],\n    setIsLoanCalculator = _useState4[1];\n  var navigateToProfileScreen = function navigateToProfileScreen() {\n    navigation.navigate(\"ProfileScreen\");\n  };\n  useEffect(function () {\n    var fetchProfile = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var token = yield AsyncStorage.getItem(\"token\");\n          var response = yield fetch(`http://${ipAddress}:5000/profile/`, {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: `Bearer ${token}`\n            }\n          });\n          if (!response.ok) {\n            var errorResponse = yield response.json();\n            if (response.status === 404) {\n              yield createDefaultProfile();\n            } else {\n              console.error(\"Server Error:\", errorResponse);\n              throw new Error(errorResponse.message || \"Failed to fetch profile\");\n            }\n          } else {\n            var loadedProfile = yield response.json();\n            console.log(\"loadedProfile: \", loadedProfile);\n            setProfile(loadedProfile.profile);\n            console.log(\"profile: \", profile);\n          }\n        } catch (error) {\n          console.error(\"Error fetching profile:\", error);\n          alert(error.message);\n        }\n      });\n      return function fetchProfile() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchProfile();\n  }, []);\n  var toggleScreen = function toggleScreen() {\n    setIsLoanCalculator(!isLoanCalculator);\n  };\n  var renderItem = function renderItem(_ref3) {\n    var item = _ref3.item;\n    return _jsx(View, {\n      style: styles.listItem,\n      children: _jsx(Text, {\n        style: styles.title,\n        children: item.title\n      })\n    });\n  };\n  return _jsxs(SafeAreaView, {\n    style: styles.welcomeBackground,\n    children: [_jsx(TouchableOpacity, {\n      children: _jsx(Image, {\n        source: profileImages[profile],\n        style: styles.profileIcon\n      })\n    }), _jsx(Text, {\n      style: styles.headerText,\n      children: isLoanCalculator ? \"Loan Calculations\" : \"Savings Calculations\"\n    }), _jsx(TouchableOpacity, {\n      style: styles.toggleButton,\n      onPress: toggleScreen,\n      children: _jsx(Text, {\n        style: styles.buttonText,\n        children: isLoanCalculator ? \"Calculate Savings\" : \"Calculate Loans\"\n      })\n    }), isLoanCalculator ? _jsx(FlatList, {\n      data: loanCalc,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    }) : _jsx(FlatList, {\n      data: saveCalc,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    }), _jsx(TabNavigation, {\n      navigation: navigation\n    })]\n  });\n}\nvar additionalStyles = StyleSheet.create({\n  toggleButton: {\n    borderRadius: 20,\n    backgroundColor: \"white\",\n    width: \"40%\",\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    padding: 10,\n    margin: 10\n  },\n  buttonText: {\n    color: \"black\",\n    fontWeight: \"bold\"\n  },\n  item: {\n    backgroundColor: \"#f7f7e4\",\n    padding: 10,\n    marginVertical: 6,\n    marginHorizontal: 10\n  },\n  title: {\n    fontSize: 29\n  }\n});\nObject.assign(styles, additionalStyles);","map":{"version":3,"names":["React","useState","useEffect","SafeAreaView","Text","TouchableOpacity","View","Image","StyleSheet","FlatList","AsyncStorage","styles","ipAddress","TabNavigation","profileImages","jsx","_jsx","jsxs","_jsxs","loanCalc","id","title","saveCalc","CalculationScreen","_ref","navigation","setIsLoggedIn","_useState","_useState2","_slicedToArray","profile","setProfile","_useState3","_useState4","isLoanCalculator","setIsLoanCalculator","navigateToProfileScreen","navigate","fetchProfile","_ref2","_asyncToGenerator","token","getItem","response","fetch","headers","Authorization","ok","errorResponse","json","status","createDefaultProfile","console","error","Error","message","loadedProfile","log","alert","apply","arguments","toggleScreen","renderItem","_ref3","item","style","listItem","children","welcomeBackground","source","profileIcon","headerText","toggleButton","onPress","buttonText","data","keyExtractor","additionalStyles","create","borderRadius","backgroundColor","width","alignSelf","alignItems","padding","margin","color","fontWeight","marginVertical","marginHorizontal","fontSize","Object","assign"],"sources":["C:/Users/laura/appDev/JELL/frontend/Components/CalculationScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  SafeAreaView,\r\n  Text,\r\n  TouchableOpacity,\r\n  View,\r\n  Image,\r\n  StyleSheet,\r\n  FlatList,\r\n} from \"react-native\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport styles from \"./styles/styles\";\r\nimport { ipAddress } from \"./ip\";\r\nimport TabNavigation from \"./TabNavigation\";\r\nimport { profileImages } from \"./ProfileScreen\";\r\n\r\nconst loanCalc = [\r\n  { id: \"1\", title: \"Amortized Loan\" },\r\n  { id: \"2\", title: \"Deferred Payment Loan\" },\r\n  { id: \"3\", title: \"Bond\" },\r\n  { id: \"4\", title: \"Mortgage\" },\r\n  { id: \"5\", title: \"Auto Loan\" },\r\n  { id: \"6\", title: \"Student Loan\" },\r\n  { id: \"7\", title: \"Mortgage Payoff\" },\r\n];\r\n\r\nconst saveCalc = [\r\n  { id: \"1\", title: \"Savings\" },\r\n  { id: \"2\", title: \"Simple Interest\" },\r\n  { id: \"3\", title: \"Compound Interest\" },\r\n  { id: \"4\", title: \"Certificate of Deposit\" },\r\n  { id: \"5\", title: \"IRAs\" },\r\n  { id: \"6\", title: \"401K\" },\r\n  { id: \"7\", title: \"Social Security\" },\r\n];\r\n\r\nexport default function CalculationScreen({ navigation, setIsLoggedIn }) {\r\n  const [profile, setProfile] = useState(\"default\");\r\n  const [isLoanCalculator, setIsLoanCalculator] = useState(true);\r\n\r\n  const navigateToProfileScreen = () => {\r\n    navigation.navigate(\"ProfileScreen\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const token = await AsyncStorage.getItem(\"token\");\r\n        const response = await fetch(`http://${ipAddress}:5000/profile/`, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const errorResponse = await response.json();\r\n          if (response.status === 404) {\r\n            await createDefaultProfile();\r\n          } else {\r\n            console.error(\"Server Error:\", errorResponse);\r\n            throw new Error(errorResponse.message || \"Failed to fetch profile\");\r\n          }\r\n        } else {\r\n          const loadedProfile = await response.json();\r\n          console.log(\"loadedProfile: \", loadedProfile);\r\n          setProfile(loadedProfile.profile);\r\n          console.log(\"profile: \", profile);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error);\r\n        alert(error.message);\r\n      }\r\n    };\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const toggleScreen = () => {\r\n    setIsLoanCalculator(!isLoanCalculator);\r\n  };\r\n\r\n  const renderItem = ({ item }) => (\r\n    <View style={styles.listItem}>\r\n      <Text style={styles.title}>{item.title}</Text>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <SafeAreaView style={styles.welcomeBackground}>\r\n      <TouchableOpacity>\r\n        <Image source={profileImages[profile]} style={styles.profileIcon} />\r\n      </TouchableOpacity>\r\n      <Text style={styles.headerText}>\r\n        {isLoanCalculator ? \"Loan Calculations\" : \"Savings Calculations\"}\r\n      </Text>\r\n      <TouchableOpacity style={styles.toggleButton} onPress={toggleScreen}>\r\n        <Text style={styles.buttonText}>\r\n          {isLoanCalculator ? \"Calculate Savings\" : \"Calculate Loans\"}\r\n        </Text>\r\n      </TouchableOpacity>\r\n      {isLoanCalculator ? (\r\n        <FlatList\r\n          data={loanCalc}\r\n          renderItem={renderItem}\r\n          keyExtractor={(item) => item.id}\r\n        />\r\n      ) : (\r\n        <FlatList\r\n          data={saveCalc}\r\n          renderItem={renderItem}\r\n          keyExtractor={(item) => item.id}\r\n        />\r\n      )}\r\n      <TabNavigation navigation={navigation} />\r\n    </SafeAreaView>\r\n  );\r\n}\r\nconst additionalStyles = StyleSheet.create({\r\n  toggleButton: {\r\n    borderRadius: 20,\r\n    backgroundColor: \"white\",\r\n    width: \"40%\",\r\n    alignSelf: \"center\",\r\n    alignItems: \"center\",\r\n    padding: 10,\r\n    margin: 10,\r\n  },\r\n  buttonText: {\r\n    color: \"black\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  item: {\r\n    backgroundColor: \"#f7f7e4\",\r\n    padding: 10,\r\n    marginVertical: 6,\r\n    marginHorizontal: 10,\r\n  },\r\n  title: {\r\n    fontSize: 29,\r\n  },\r\n});\r\n\r\nObject.assign(styles, additionalStyles);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}