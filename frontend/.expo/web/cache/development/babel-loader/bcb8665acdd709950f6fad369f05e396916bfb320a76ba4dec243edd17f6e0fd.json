{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport TabNavigation from \"./TabNavigation\";\nimport styles from \"./styles/styles\";\nimport { ipAddress } from \"./styles/styles\";\nimport loadFonts from \"./styles/fonts\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var profileImages = {\n  default: require(\"../assets/defaultProfileIcon.png\"),\n  bear: require(\"../assets/bear.png\"),\n  frog: require(\"../assets/frog.png\"),\n  cow: require(\"../assets/cow.png\"),\n  crab: require(\"../assets/crab.png\"),\n  whale: require(\"../assets/whale.png\")\n};\nvar iconChoices = [{\n  key: \"1\",\n  name: \"bear\"\n}, {\n  key: \"2\",\n  name: \"frog\"\n}, {\n  key: \"3\",\n  name: \"cow\"\n}, {\n  key: \"4\",\n  name: \"crab\"\n}, {\n  key: \"5\",\n  name: \"whale\"\n}, {\n  key: \"6\",\n  name: \"default\"\n}];\nexport default function ProfileScreen(_ref) {\n  var navigation = _ref.navigation,\n    setIsLoggedIn = _ref.setIsLoggedIn;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    editing = _useState4[0],\n    setEditing = _useState4[1];\n  var _useState5 = useState(\"default\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    profile = _useState6[0],\n    setProfile = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    firstName = _useState8[0],\n    setFirstName = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    lastName = _useState10[0],\n    setLastName = _useState10[1];\n  var _useState11 = useState(\"\"),\n    _useState12 = _slicedToArray(_useState11, 2),\n    username = _useState12[0],\n    setUsername = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    fontsLoaded = _useState14[0],\n    setFontsLoaded = _useState14[1];\n  var handleLogout = function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"token\"));\n        case 2:\n          setIsLoggedIn(false);\n          navigation.reset({\n            index: 0,\n            routes: [{\n              name: \"Login\"\n            }]\n          });\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }, null, null, null, Promise);\n  };\n  var handleClickEdit = function handleClickEdit() {\n    setEditing(true);\n  };\n  var handleEditSave = function handleEditSave() {\n    saveProfile();\n    saveName();\n    setEditing(false);\n  };\n  var updateProfile = function updateProfile(newProfile) {\n    setProfile(newProfile);\n    console.log(\"profile: \", profile);\n  };\n  var saveProfile = function _callee2() {\n    var token, response, errorResponse;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n        case 3:\n          token = _context2.sent;\n          _context2.next = 6;\n          return _regeneratorRuntime.awrap(fetch(\"http://\" + ipAddress + \":5000/profile/\", {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token\n            },\n            body: JSON.stringify({\n              profile: profile\n            })\n          }));\n        case 6:\n          response = _context2.sent;\n          if (response.ok) {\n            _context2.next = 13;\n            break;\n          }\n          _context2.next = 10;\n          return _regeneratorRuntime.awrap(response.json());\n        case 10:\n          errorResponse = _context2.sent;\n          console.error(\"Server Error:\", errorResponse);\n          throw new Error(errorResponse.message || \"Failed to update profile\");\n        case 13:\n          _context2.next = 19;\n          break;\n        case 15:\n          _context2.prev = 15;\n          _context2.t0 = _context2[\"catch\"](0);\n          console.error(\"Error updating profile:\", _context2.t0);\n          alert(_context2.t0.message);\n        case 19:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, null, null, [[0, 15]], Promise);\n  };\n  var saveName = function _callee3() {\n    var token, uName, response, errorResponse;\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n        case 3:\n          token = _context3.sent;\n          _context3.next = 6;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"username\"));\n        case 6:\n          uName = _context3.sent;\n          _context3.next = 9;\n          return _regeneratorRuntime.awrap(fetch(\"http://\" + ipAddress + \"/users/\" + uName, {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token\n            },\n            body: JSON.stringify({\n              firstname: firstName,\n              lastname: lastName\n            })\n          }));\n        case 9:\n          response = _context3.sent;\n          if (response.ok) {\n            _context3.next = 16;\n            break;\n          }\n          _context3.next = 13;\n          return _regeneratorRuntime.awrap(response.json());\n        case 13:\n          errorResponse = _context3.sent;\n          console.error(\"Server Error:\", errorResponse);\n          throw new Error(errorResponse.message || \"Failed to update name\");\n        case 16:\n          _context3.next = 22;\n          break;\n        case 18:\n          _context3.prev = 18;\n          _context3.t0 = _context3[\"catch\"](0);\n          console.error(\"Error updating name:\", _context3.t0);\n          alert(_context3.t0.message);\n        case 22:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, null, null, [[0, 18]], Promise);\n  };\n  var createDefaultProfile = function _callee4() {\n    var profileBody, token, response, errorResponse, newProfile;\n    return _regeneratorRuntime.async(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          profileBody = {\n            profile: \"default\"\n          };\n          _context4.prev = 1;\n          _context4.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n        case 4:\n          token = _context4.sent;\n          _context4.next = 7;\n          return _regeneratorRuntime.awrap(fetch(\"http://\" + ipAddress + \":5000/profile\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token\n            },\n            body: JSON.stringify(profileBody)\n          }));\n        case 7:\n          response = _context4.sent;\n          if (response.ok) {\n            _context4.next = 14;\n            break;\n          }\n          _context4.next = 11;\n          return _regeneratorRuntime.awrap(response.json());\n        case 11:\n          errorResponse = _context4.sent;\n          console.error(\"Server Error:\", errorResponse);\n          throw new Error(errorResponse.message || \"Failed to create profile\");\n        case 14:\n          _context4.next = 16;\n          return _regeneratorRuntime.awrap(response.json());\n        case 16:\n          newProfile = _context4.sent;\n          setProfile(newProfile.profile);\n          console.log(\"Created new profile: \", newProfile.profile);\n          _context4.next = 25;\n          break;\n        case 21:\n          _context4.prev = 21;\n          _context4.t0 = _context4[\"catch\"](1);\n          console.error(\"Error creating profile:\", _context4.t0);\n          alert(_context4.t0.message);\n        case 25:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, null, null, [[1, 21]], Promise);\n  };\n  useEffect(function () {\n    var fetchProfile = function _callee5() {\n      var token, response, errorResponse, loadedProfile;\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            setLoading(true);\n            _context5.prev = 1;\n            _context5.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n          case 4:\n            token = _context5.sent;\n            _context5.next = 7;\n            return _regeneratorRuntime.awrap(fetch(\"http://\" + ipAddress + \":5000/profile\", {\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + token\n              }\n            }));\n          case 7:\n            response = _context5.sent;\n            if (response.ok) {\n              _context5.next = 21;\n              break;\n            }\n            _context5.next = 11;\n            return _regeneratorRuntime.awrap(response.json());\n          case 11:\n            errorResponse = _context5.sent;\n            if (!(response.status === 404)) {\n              _context5.next = 17;\n              break;\n            }\n            _context5.next = 15;\n            return _regeneratorRuntime.awrap(createDefaultProfile());\n          case 15:\n            _context5.next = 19;\n            break;\n          case 17:\n            console.error(\"Server Error:\", errorResponse);\n            throw new Error(errorResponse.message || \"Failed to fetch profile\");\n          case 19:\n            _context5.next = 25;\n            break;\n          case 21:\n            _context5.next = 23;\n            return _regeneratorRuntime.awrap(response.json());\n          case 23:\n            loadedProfile = _context5.sent;\n            setProfile(loadedProfile.profile);\n          case 25:\n            _context5.next = 31;\n            break;\n          case 27:\n            _context5.prev = 27;\n            _context5.t0 = _context5[\"catch\"](1);\n            console.error(\"Error fetching profile:\", _context5.t0);\n            alert(_context5.t0.message);\n          case 31:\n            _context5.prev = 31;\n            setLoading(false);\n            return _context5.finish(31);\n          case 34:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, null, null, [[1, 27, 31, 34]], Promise);\n    };\n    var fetchUserData = function _callee6() {\n      var token, uName, response, errorResponse, loadedUser;\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            setLoading(true);\n            _context6.prev = 1;\n            _context6.next = 4;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n          case 4:\n            token = _context6.sent;\n            _context6.next = 7;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"username\"));\n          case 7:\n            uName = _context6.sent;\n            setUsername(uName);\n            _context6.next = 11;\n            return _regeneratorRuntime.awrap(fetch(\"http://\" + ipAddress + \":5000/users/\" + uName, {\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + token\n              }\n            }));\n          case 11:\n            response = _context6.sent;\n            if (response.ok) {\n              _context6.next = 20;\n              break;\n            }\n            _context6.next = 15;\n            return _regeneratorRuntime.awrap(response.json());\n          case 15:\n            errorResponse = _context6.sent;\n            console.error(\"Server Error:\", errorResponse);\n            throw new Error(errorResponse.message || \"Failed to fetch user data\");\n          case 20:\n            _context6.next = 22;\n            return _regeneratorRuntime.awrap(response.json());\n          case 22:\n            loadedUser = _context6.sent;\n            console.log(\"loadedUser: \", loadedUser);\n            setFirstName(loadedUser.firstname);\n            setLastName(loadedUser.lastname);\n          case 26:\n            _context6.next = 32;\n            break;\n          case 28:\n            _context6.prev = 28;\n            _context6.t0 = _context6[\"catch\"](1);\n            console.error(\"Error fetching user data:\", _context6.t0);\n            alert(_context6.t0.message);\n          case 32:\n            _context6.prev = 32;\n            setLoading(false);\n            return _context6.finish(32);\n          case 35:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, null, null, [[1, 28, 32, 35]], Promise);\n    };\n    fetchProfile();\n    fetchUserData();\n  }, []);\n  useEffect(function () {\n    loadFonts().then(function () {\n      return setFontsLoaded(true);\n    });\n  }, []);\n  return _jsxs(SafeAreaView, {\n    style: styles.background,\n    children: [_jsx(View, {\n      style: styles.header,\n      children: _jsx(Text, {\n        style: styles.headerText,\n        children: \"PROFILE\"\n      })\n    }), _jsxs(View, {\n      style: styles.greenPageSection,\n      children: [loading ? _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#0000ff\"\n      }) : !editing ? _jsxs(View, {\n        children: [_jsx(Image, {\n          source: profileImages[profile],\n          style: styles.profileHeader\n        }), _jsxs(View, {\n          style: styles.pageContentContainer,\n          children: [_jsxs(Text, {\n            children: [\"Name: \", firstName, \" \", lastName]\n          }), _jsxs(Text, {\n            children: [\"Username: \", username]\n          }), _jsx(Pressable, {\n            onPress: handleClickEdit,\n            children: _jsx(Text, {\n              children: \"Click to edit\"\n            })\n          })]\n        }), _jsx(Pressable, {\n          onPress: handleLogout,\n          style: profileStyles.logout,\n          children: _jsx(Text, {\n            children: \"Logout\"\n          })\n        })]\n      }) : _jsxs(View, {\n        children: [_jsx(Text, {\n          children: \"Select Profile Icon\"\n        }), _jsx(FlatList, {\n          data: iconChoices,\n          renderItem: function renderItem(_ref2) {\n            var item = _ref2.item;\n            return _jsx(Pressable, {\n              onPress: function onPress() {\n                return updateProfile(item.name);\n              },\n              children: _jsx(Image, {\n                style: profileStyles.selection,\n                source: profileImages[item.name]\n              })\n            });\n          },\n          keyExtractor: function keyExtractor(item) {\n            return item.key;\n          },\n          horizontal: true\n        }), _jsxs(View, {\n          style: styles.pageContentContainer,\n          children: [_jsx(TextInput, {\n            placeholder: \"Enter first name\",\n            value: firstName,\n            onChangeText: function onChangeText(text) {\n              return setFirstName(text);\n            }\n          }), _jsx(TextInput, {\n            placeholder: \"Enter last name\",\n            value: lastName,\n            onChangeText: function onChangeText(text) {\n              return setLastName(text);\n            }\n          }), _jsx(Pressable, {\n            onPress: handleEditSave,\n            style: profileStyles.saveButton,\n            children: _jsx(Text, {\n              children: \"Save Edits\"\n            })\n          })]\n        }), _jsx(Pressable, {\n          onPress: handleLogout,\n          style: profileStyles.logout,\n          children: _jsx(Text, {\n            children: \"Logout\"\n          })\n        })]\n      }), _jsx(TabNavigation, {\n        navigation: navigation\n      })]\n    })]\n  });\n}\nvar profileStyles = StyleSheet.create({\n  profileIcon: {\n    height: 200,\n    width: 200,\n    borderWidth: 2,\n    borderRadius: 20,\n    alignSelf: \"center\",\n    margin: 20\n  },\n  bio: {\n    margin: 30\n  },\n  saveButton: {\n    alignSelf: \"right\"\n  },\n  selectButton: {\n    alignSelf: \"center\"\n  },\n  selection: {\n    height: 50,\n    width: 50,\n    margin: 10\n  },\n  logout: {\n    borderRadius: 20,\n    backgroundColor: \"white\",\n    width: \"30%\",\n    alignSelf: \"center\",\n    alignItems: \"center\",\n    padding: 10,\n    margin: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","SafeAreaView","Text","Pressable","StyleSheet","Image","View","ActivityIndicator","TextInput","FlatList","TouchableOpacity","AsyncStorage","TabNavigation","styles","ipAddress","loadFonts","jsx","_jsx","jsxs","_jsxs","profileImages","default","require","bear","frog","cow","crab","whale","iconChoices","key","name","ProfileScreen","_ref","navigation","setIsLoggedIn","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","editing","setEditing","_useState5","_useState6","profile","setProfile","_useState7","_useState8","firstName","setFirstName","_useState9","_useState10","lastName","setLastName","_useState11","_useState12","username","setUsername","_useState13","_useState14","fontsLoaded","setFontsLoaded","handleLogout","_callee","_regeneratorRuntime","async","_callee$","_context","prev","next","awrap","removeItem","reset","index","routes","stop","Promise","handleClickEdit","handleEditSave","saveProfile","saveName","updateProfile","newProfile","console","log","_callee2","token","response","errorResponse","_callee2$","_context2","getItem","sent","fetch","method","headers","Authorization","body","JSON","stringify","ok","json","error","Error","message","t0","alert","_callee3","uName","_callee3$","_context3","firstname","lastname","createDefaultProfile","_callee4","profileBody","_callee4$","_context4","fetchProfile","_callee5","loadedProfile","_callee5$","_context5","status","finish","fetchUserData","_callee6","loadedUser","_callee6$","_context6","then","style","background","children","header","headerText","greenPageSection","size","color","source","profileHeader","pageContentContainer","onPress","profileStyles","logout","data","renderItem","_ref2","item","selection","keyExtractor","horizontal","placeholder","value","onChangeText","text","saveButton","create","profileIcon","height","width","borderWidth","borderRadius","alignSelf","margin","bio","selectButton","backgroundColor","alignItems","padding"],"sources":["C:/Users/lisse/Documents/GitHub/JELL/frontend/Components/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  SafeAreaView,\r\n  Text,\r\n  Pressable,\r\n  StyleSheet,\r\n  Image,\r\n  View,\r\n  ActivityIndicator,\r\n  TextInput,\r\n  FlatList,\r\n  TouchableOpacity,\r\n} from \"react-native\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport TabNavigation from \"./TabNavigation\";\r\nimport styles from \"./styles/styles\";\r\nimport { ipAddress } from \"./styles/styles\";\r\nimport loadFonts from \"./styles/fonts\";\r\n\r\nexport const profileImages = {\r\n  default: require(\"../assets/defaultProfileIcon.png\"),\r\n  bear: require(\"../assets/bear.png\"),\r\n  frog: require(\"../assets/frog.png\"),\r\n  cow: require(\"../assets/cow.png\"),\r\n  crab: require(\"../assets/crab.png\"),\r\n  whale: require(\"../assets/whale.png\"),\r\n};\r\n\r\nconst iconChoices = [\r\n  { key: \"1\", name: \"bear\" },\r\n  { key: \"2\", name: \"frog\" },\r\n  { key: \"3\", name: \"cow\" },\r\n  { key: \"4\", name: \"crab\" },\r\n  { key: \"5\", name: \"whale\" },\r\n  { key: \"6\", name: \"default\" },\r\n];\r\n\r\nexport default function ProfileScreen({ navigation, setIsLoggedIn }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [editing, setEditing] = useState(false);\r\n  const [profile, setProfile] = useState(\"default\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [fontsLoaded, setFontsLoaded] = useState(false);\r\n\r\n  const handleLogout = async () => {\r\n    await AsyncStorage.removeItem(\"token\");\r\n    setIsLoggedIn(false);\r\n    navigation.reset({\r\n      index: 0,\r\n      routes: [{ name: \"Login\" }],\r\n    });\r\n  };\r\n\r\n  const handleClickEdit = () => {\r\n    setEditing(true);\r\n  };\r\n\r\n  const handleEditSave = () => {\r\n    saveProfile();\r\n    saveName();\r\n    setEditing(false);\r\n  };\r\n\r\n  const updateProfile = (newProfile) => {\r\n    setProfile(newProfile);\r\n    console.log(\"profile: \", profile);\r\n  };\r\n\r\n  const saveProfile = async () => {\r\n    try {\r\n      const token = await AsyncStorage.getItem(\"token\");\r\n\r\n      const response = await fetch(`http://${ipAddress}:5000/profile/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          profile: profile,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorResponse = await response.json();\r\n        console.error(\"Server Error:\", errorResponse);\r\n        throw new Error(errorResponse.message || \"Failed to update profile\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating profile:\", error);\r\n      alert(error.message);\r\n    }\r\n  };\r\n\r\n  const saveName = async () => {\r\n    try {\r\n      const token = await AsyncStorage.getItem(\"token\");\r\n      const uName = await AsyncStorage.getItem(\"username\");\r\n\r\n      const response = await fetch(`http://${ipAddress}/users/${uName}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({\r\n          firstname: firstName,\r\n          lastname: lastName,\r\n        }),\r\n      });\r\n      if (!response.ok) {\r\n        const errorResponse = await response.json();\r\n        console.error(\"Server Error:\", errorResponse);\r\n        throw new Error(errorResponse.message || \"Failed to update name\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating name:\", error);\r\n      alert(error.message);\r\n    }\r\n  };\r\n\r\n  const createDefaultProfile = async () => {\r\n    const profileBody = { profile: \"default\" };\r\n    try {\r\n      const token = await AsyncStorage.getItem(\"token\");\r\n      const response = await fetch(`http://${ipAddress}:5000/profile`, {\r\n\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(profileBody),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorResponse = await response.json();\r\n        console.error(\"Server Error:\", errorResponse);\r\n        throw new Error(errorResponse.message || \"Failed to create profile\");\r\n      }\r\n\r\n      const newProfile = await response.json();\r\n      setProfile(newProfile.profile);\r\n      console.log(\"Created new profile: \", newProfile.profile);\r\n    } catch (error) {\r\n      console.error(\"Error creating profile:\", error);\r\n      alert(error.message);\r\n    }\r\n  };\r\n  // fetching user profile and data from backend\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const token = await AsyncStorage.getItem(\"token\");\r\n        const response = await fetch(`http://${ipAddress}:5000/profile`, {\r\n\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          const errorResponse = await response.json();\r\n          if (response.status === 404) {\r\n            await createDefaultProfile();\r\n          } else {\r\n            console.error(\"Server Error:\", errorResponse);\r\n            throw new Error(errorResponse.message || \"Failed to fetch profile\");\r\n          }\r\n        } else {\r\n          const loadedProfile = await response.json();\r\n          setProfile(loadedProfile.profile);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching profile:\", error);\r\n        alert(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    const fetchUserData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const token = await AsyncStorage.getItem(\"token\");\r\n        const uName = await AsyncStorage.getItem(\"username\");\r\n        setUsername(uName);\r\n        const response = await fetch(\r\n          `http://${ipAddress}:5000/users/${uName}`,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n\r\n        if (!response.ok) {\r\n          const errorResponse = await response.json();\r\n          console.error(\"Server Error:\", errorResponse);\r\n          throw new Error(errorResponse.message || \"Failed to fetch user data\");\r\n        } else {\r\n          const loadedUser = await response.json();\r\n          console.log(\"loadedUser: \", loadedUser);\r\n          setFirstName(loadedUser.firstname);\r\n          setLastName(loadedUser.lastname);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n        alert(error.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchProfile();\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    loadFonts().then(() => setFontsLoaded(true));\r\n  }, []);\r\n  //if (!fontsLoaded) return null;\r\n\r\n  return (\r\n    <SafeAreaView style={styles.background}>\r\n      <View style={styles.header}>\r\n        <Text style={styles.headerText}>PROFILE</Text>\r\n      </View>\r\n      <View style={styles.greenPageSection}>\r\n        {loading ? (\r\n          <ActivityIndicator size=\"large\" color=\"#0000ff\" />\r\n        ) : !editing ? (\r\n          <View>\r\n            <Image\r\n              source={profileImages[profile]}\r\n              style={styles.profileHeader}\r\n            />\r\n            <View style={styles.pageContentContainer}>\r\n              <Text>\r\n                Name: {firstName} {lastName}\r\n              </Text>\r\n              <Text>Username: {username}</Text>\r\n              <Pressable onPress={handleClickEdit}>\r\n                <Text>Click to edit</Text>\r\n              </Pressable>\r\n            </View>\r\n\r\n            <Pressable onPress={handleLogout} style={profileStyles.logout}>\r\n              <Text>Logout</Text>\r\n            </Pressable>\r\n          </View>\r\n        ) : (\r\n          <View>\r\n            <Text>Select Profile Icon</Text>\r\n            <FlatList\r\n              data={iconChoices}\r\n              renderItem={({ item }) => (\r\n                <Pressable onPress={() => updateProfile(item.name)}>\r\n                  <Image\r\n                    style={profileStyles.selection}\r\n                    source={profileImages[item.name]}\r\n                  />\r\n                </Pressable>\r\n              )}\r\n              keyExtractor={(item) => item.key}\r\n              horizontal\r\n            />\r\n            <View style={styles.pageContentContainer}>\r\n              <TextInput\r\n                placeholder=\"Enter first name\"\r\n                value={firstName}\r\n                onChangeText={(text) => setFirstName(text)}\r\n              />\r\n              <TextInput\r\n                placeholder=\"Enter last name\"\r\n                value={lastName}\r\n                onChangeText={(text) => setLastName(text)}\r\n              />\r\n              <Pressable\r\n                onPress={handleEditSave}\r\n                style={profileStyles.saveButton}\r\n              >\r\n                <Text>Save Edits</Text>\r\n              </Pressable>\r\n            </View>\r\n            <Pressable onPress={handleLogout} style={profileStyles.logout}>\r\n              <Text>Logout</Text>\r\n            </Pressable>\r\n          </View>\r\n        )}\r\n        <TabNavigation navigation={navigation} />\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst profileStyles = StyleSheet.create({\r\n  profileIcon: {\r\n    height: 200,\r\n    width: 200,\r\n    borderWidth: 2,\r\n    borderRadius: 20,\r\n    alignSelf: \"center\",\r\n    margin: 20,\r\n  },\r\n  bio: {\r\n    margin: 30,\r\n  },\r\n  saveButton: {\r\n    alignSelf: \"right\",\r\n  },\r\n  selectButton: {\r\n    alignSelf: \"center\",\r\n  },\r\n  selection: {\r\n    height: 50,\r\n    width: 50,\r\n    margin: 10,\r\n  },\r\n  logout: {\r\n    borderRadius: 20,\r\n    backgroundColor: \"white\",\r\n    width: \"30%\",\r\n    alignSelf: \"center\",\r\n    alignItems: \"center\",\r\n    padding: 10,\r\n    margin: 10,\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}